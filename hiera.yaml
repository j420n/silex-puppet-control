---
:backends:
    - eyaml
    - yaml

:hierarchy:
    - "roles/%{::role}"
    - "roles/%{::role}/common"
    - "common"
    - "modules/%{module_name}/%{::clientcert}"
    - "modules/%{module_name}/%{::hostname}"
    - "modules/%{module_name}/%{::operatingsystem}"
    - "modules/%{module_name}/%{::role}"
    - "modules/%{module_name}/common"
    - "modules/%{module_name}/defaults"

:yaml:
    :datadir: '/etc/puppet/environments/%{environment}/hieradata'
:eyaml:
    :datadir: '/etc/puppet/environments/%{environment}/hieradata'
    :extension: 'yaml'

:merge_behavior: deeper


    # If using the pkcs7 encryptor (default)
    # TODO move to /etc/puppet/secret/keys on Puppetmaster
    :pkcs7_private_key: /vagrant/keys/private_key.pkcs7.pem
    :pkcs7_public_key:  /vagrant/keys/public_key.pkcs7.pem
